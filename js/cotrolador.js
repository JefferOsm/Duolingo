var categorias=[
    {   
        id: 1,
        nombre: "Family",
        icono: "fa-solid fa-people-roof",
        color: "#F27B7B",
        preguntas:[
            {
                id: 1,
                palabra: "Hermana",
                respuestas:[
                    {
                        palabra: "Brother",
                        correcta:false,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:true,
                    },
                ],
            },
            {
                id: 2,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
            {
                id: 3,
                palabra: "Padre",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:false,
                    },
                    {
                        palabra: "Father",
                        correcta:true,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
            {
                id: 4,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
            {
                id: 5,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
        ],

    },
    {   
        id: 1,
        nombre: "Animals",
        icono: "fa-solid fa-dog",
        color: "#e38afd",
        preguntas:[
            {
                id: 1,
                palabra: "Gato",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:true,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 2,
                palabra: "perro",
                respuestas:[
                    {
                        palabra: "dog",
                        correcta:true,
                    },
                    {
                        palabra: "cat",
                        correcta:false,
                    },
                    {
                        palabra: "dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 3,
                palabra: "Mono",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                ],
            },
            {
                id: 4,
                palabra: "Delfin",
                respuestas:[
                    {
                        palabra: "Dolphin",
                        correcta:true,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 5,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
        ],

    },
    {   
        id: 3,
        nombre: "Travel",
        icono: "fa-sharp fa-solid fa-plane",
        color: "#f2a07b",
        preguntas:[
            {
                id: 1,
                palabra: "Gato",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:true,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 2,
                palabra: "perro",
                respuestas:[
                    {
                        palabra: "dog",
                        correcta:true,
                    },
                    {
                        palabra: "cat",
                        correcta:false,
                    },
                    {
                        palabra: "dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 3,
                palabra: "Mono",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                ],
            },
            {
                id: 4,
                palabra: "Delfin",
                respuestas:[
                    {
                        palabra: "Dolphin",
                        correcta:true,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 5,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
        ],

    },
    {   
        id: 4,
        nombre: "Food",
        icono: "fa-solid fa-utensils",
        color: "#967bf2",
        preguntas:[
            {
                id: 1,
                palabra: "Gato",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:true,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 2,
                palabra: "perro",
                respuestas:[
                    {
                        palabra: "dog",
                        correcta:true,
                    },
                    {
                        palabra: "cat",
                        correcta:false,
                    },
                    {
                        palabra: "dolphin",
                        correcta:false,
                    },
                    {
                        palabra: "monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 3,
                palabra: "Mono",
                respuestas:[
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                    {
                        palabra: "Dolphin",
                        correcta:false,
                    },
                ],
            },
            {
                id: 4,
                palabra: "Delfin",
                respuestas:[
                    {
                        palabra: "Dolphin",
                        correcta:true,
                    },
                    {
                        palabra: "Cat",
                        correcta:false,
                    },
                    {
                        palabra: "Dog",
                        correcta:false,
                    },
                    {
                        palabra: "Monkey",
                        correcta:false,
                    },
                ],
            },
            {
                id: 5,
                palabra: "Familia",
                respuestas:[
                    {
                        palabra: "Family",
                        correcta:true,
                    },
                    {
                        palabra: "Mother",
                        correcta:false,
                    },
                    {
                        palabra: "Water",
                        correcta:false,
                    },
                    {
                        palabra: "Sister",
                        correcta:false,
                    },
                ],
            },
        ],

    },
];

var usuarios=[
    {
        id:1,
        nombre:"Goku",
        imagenPerfil: "img/profile-pics/goku.jpg",
        corona: 2,
        vidas: 5,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },

    {
        id:2,
        nombre:"Bulma",
        imagenPerfil: "img/profile-pics/bulma.jpg",
        corona: 3,
        vidas: 4,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },

    {
        id:3,
        nombre:"Kami",
        imagenPerfil: "img/profile-pics/kami.jpg",
        corona: 5,
        vidas: 5,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },
    {
        id:4,
        nombre:"Baby",
        imagenPerfil: "img/profile-pics/baby.jpg",
        corona: 2,
        vidas: 8,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },
    {
        id:5,
        nombre:"Dende",
        imagenPerfil: "img/profile-pics/dende.jpg",
        corona: 5,
        vidas: 1,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },
    {
        id:6,
        nombre:"Pan",
        imagenPerfil: "img/profile-pics/pan.png",
        corona: 1,
        vidas: 5,
        resultados:[
            {
                category: 1,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
            {
                category: 2,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 3,
                correctas: 5,
                incorrectas: 0,
                aprobada: true,
            },
            {
                category: 4,
                correctas: 3,
                incorrectas: 2,
                aprobada: false,
            },
            {
                category: 5,
                correctas: 4,
                incorrectas: 1,
                aprobada: false,
            },
        ],
    },
];
var localstorage= window.localStorage;
var contador=0;
var estrellas=0;
var vida=0;

if(localstorage.getItem('categorias')==null){
    localstorage.setItem('categorias',JSON.stringify(categorias));
}else{
    categorias= JSON.parse(localstorage.getItem('categorias'))
}
if(localstorage.getItem('usuarios')==null){
    localstorage.setItem('usuarios',JSON.stringify(usuarios));
}else{
    usuarios= JSON.parse(localstorage.getItem('usuarios'))
}


function renderizarUsuarios(){
    document.getElementById('texto-pregunta').innerHTML='';
    document.getElementById('respuestas').innerHTML='';
    document.getElementById('imagen-categorias').innerHTML='';
    document.getElementById('categorias').innerHTML='';
    document.getElementById('usuario').innerHTML='';
    document.getElementById('usuario-titulo').innerHTML=`<h5>Usuario Autenticado</h5>`;
    document.getElementById('boton').style.display='none';

    usuarios.forEach(function(user, i){
        document.getElementById('usuario').innerHTML+=
        `
        <div class="contenido" onclick="renderizarCategorias(${i})" >
            <img class="contenido-imagen" src="${user.imagenPerfil}" alt="..." onclick="generarNav('${i}')">
            <div class="usuario">${user.nombre}</div>
        </div>`;
    })

}
renderizarUsuarios();

function generarNav(indice){
    let nav= usuarios[indice];
    document.getElementById('nav-imagen').innerHTML=
    `<img src="${nav.imagenPerfil}">`;

    document.getElementById('coronas').innerHTML=
    `  <i class="fa-solid fa-crown"></i>
        <h5 class="coronas-texto">${nav.corona}</h5>`

    document.getElementById('corazones').innerHTML= 
    `  <i class="fa-solid fa-heart"></i>
     <h5 class="corazon-texto" >${nav.vidas - vida}</h5>`   
    renderizarCategorias();

    nav.vidas= (nav.vidas-vida);

}

function renderizarCategorias(){
    document.getElementById('texto-pregunta').innerHTML='';
    document.getElementById('respuestas').innerHTML='';
    document.getElementById('categorias').innerHTML='';
    document.getElementById('usuario').innerHTML='';
    document.getElementById('usuario-titulo').innerHTML='';
    document.getElementById('imagen-categorias').innerHTML= `<img class="duolingo-icon" src="img/profile-pics/duolingo-icon.png" alt="...">`;
    document.getElementById('boton').style.display='none';

    categorias.forEach(function(categoria,i){
        document.getElementById('categorias').innerHTML+=
        ` <div class="contenido-categoria " onclick="renderizarRespuestas('${i}')">
        <div class="categoria-icon"  style="background-color:${categoria.color};">
            <div class="categoria-img"><i class="${categoria.icono}"></i></div>
        </div>
        <div class="categoria-nombre">${categoria.nombre}</div>
    </div>`
    })
}

function siguiente(indice){
    contador++;
    let categoria= categorias[indice];
    document.getElementById('texto-pregunta').innerHTML='';
    document.getElementById('texto-pregunta').innerHTML=
    `   <div class="titulo-pregunta"><h5>${categoria.preguntas[contador].id}/5</h5></div>
         <div class="titulo-pregunta"><h5>Traduce la siguiente palabra:</h5></div>
         <div class="titulo-pregunta"><h5 class="hermana">${categoria.preguntas[contador].palabra}</h5></div>`;
  
    renderizarRespuestas(indice);

    if(contador==4){
        contador=0;
        document.getElementById('respuestas').innerHTML='';
        renderizarCategorias();
    }
}

function renderizarRespuestas(num){
    var respuesta=categorias[num];
    document.getElementById('respuestas').innerHTML='';
    document.getElementById('categorias').innerHTML='';
    document.getElementById('imagen-categorias').innerHTML='';
    document.getElementById('usuario').innerHTML='';
    document.getElementById('usuario-titulo').innerHTML='';
   

    document.getElementById('texto-pregunta').innerHTML=
    `   <div class="titulo-pregunta"><h5>${respuesta.preguntas[contador].id}/5</h5></div>
         <div class="titulo-pregunta"><h5>Traduce la siguiente palabra:</h5></div>
         <div class="titulo-pregunta"><h5 class="hermana">${respuesta.preguntas[contador].palabra}</h5></div>`;

        respuesta.preguntas[contador].respuestas.forEach(function(opcion, i){
            document.getElementById('respuestas').innerHTML+=
            `    <div class="opciones"  onclick="evaluarRespuestas('${num}','${i}')" id="opcion${i}"><h5 class="opciones-respuesta">${opcion.palabra}</h5></div>`
          
        })
    
  
    document.getElementById('boton').style.display='block';
    document.getElementById('boton').innerHTML=
    `<button type="button" class="btn btn-primary"  onclick="siguiente('${num}')"> Continuar</button>`;
}

function evaluarRespuestas(indiceC,indiceO){
   let categoria=categorias[indiceC];
   let opcion= categoria.preguntas[contador].respuestas[indiceO];

   if(opcion.correcta==true){
    document.getElementById('opcion'+indiceO).style.backgroundColor='#77c700';
   }else{
    document.getElementById('opcion'+indiceO).style.backgroundColor='#ff4b4b';
    vida+=1;
   }

}



